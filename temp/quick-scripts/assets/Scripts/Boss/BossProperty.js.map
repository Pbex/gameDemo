{"version":3,"sources":["BossProperty.js"],"names":["timer","cc","Class","extends","Component","properties","health","state1","state2","crashHandler","Node","onCrash","getComponent","onCollisionEnter","other","self","node","group","onHit","director","loadScene","start","update","dt"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAIA,QAAQ,CAAZ;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,gBAAQ,GAhBA;AAiBRC,gBAAQ,GAjBA;AAkBRC,gBAAQ,GAlBA,EAkBI;AACZC,sBAAcR,GAAGS;AAnBT,KAHP;;AAyBL;AACAC,WA1BK,qBA0BK;;AAEN,aAAKF,YAAL,CAAkBG,YAAlB,CAA+B,SAA/B,EAA0CD,OAA1C;AACH,KA7BI;;AA8BL;;AAEAE,sBAAkB,0BAAUC,KAAV,EAAiBC,IAAjB,EAAuB;AACrC,YAAID,MAAME,IAAN,CAAWC,KAAX,IAAoB,cAAxB,EAAwC;AACpC,iBAAKX,MAAL;AACA;AAEH,SAJD,MAIO,IAAIQ,MAAME,IAAN,CAAWC,KAAX,IAAoB,QAAxB,EAAkC;AACrC,iBAAKX,MAAL,IAAe,CAAf;AACAQ,kBAAMF,YAAN,CAAmB,QAAnB,EAA6BM,KAA7B;AACH,SAHM,MAGA,IAAIJ,MAAME,IAAN,CAAWC,KAAX,IAAoB,OAAxB,EAAiC;AACpC,iBAAKX,MAAL,IAAe,CAAf;AACAS,iBAAKH,YAAL,CAAkB,cAAlB,EAAkCD,OAAlC;AACH;;AAED,YAAI,KAAKL,MAAL,GAAc,CAAlB,EAAqB;AACjBL,eAAGkB,QAAH,CAAYC,SAAZ,CAAsB,SAAtB;AACH;AACJ,KAhDI;;AAmDLC,SAnDK,mBAmDG,CAEP,CArDI;AAuDLC,UAvDK,kBAuDEC,EAvDF,EAuDM,CAEV;AAzDI,CAAT","file":"BossProperty.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Scripts\\Boss","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\nvar timer = 0;\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n        health: 500,\r\n        state1: 250,\r\n        state2: 100,//the certian number that makes the movement of boss become different\r\n        crashHandler: cc.Node,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n    onCrash() {\r\n        \r\n        this.crashHandler.getComponent('OnCrash').onCrash();\r\n    },\r\n    // onLoad () {},\r\n\r\n    onCollisionEnter: function (other, self) {\r\n        if (other.node.group == 'playerBullet') {\r\n            this.health--;\r\n            // console.log('boss hit by bullet');\r\n\r\n        } else if (other.node.group == 'bullet') {\r\n            this.health -= 3;\r\n            other.getComponent('Bullet').onHit();\r\n        } else if (other.node.group == 'crash') {\r\n            this.health -= 5;\r\n            self.getComponent('BossProperty').onCrash();\r\n        }\r\n\r\n        if (this.health < 0) {\r\n            cc.director.loadScene(\"GameWin\");\r\n        }\r\n    },\r\n\r\n\r\n    start() {\r\n\r\n    },\r\n\r\n    update(dt) {\r\n\r\n    },\r\n});\r\n"]}