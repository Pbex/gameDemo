{"version":3,"sources":["SkillCrash.js"],"names":["timer","cc","Class","extends","Component","properties","coolDownTime","progressBar","ProgressBar","actor","Node","skillTouched","progress","getComponent","crashStart","onLoad","node","on","EventType","TOUCH_START","start","update","dt"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAIA,QAAM,CAAV;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACR;AACAC,sBAAa,CAFL;AAGRC,qBAAYN,GAAGO,WAHP;AAIRC,eAAMR,GAAGS;AAJD,KAHP;;AAUL;;AAEJC,gBAZS,0BAYK;AACV,YAAI,KAAKJ,WAAL,CAAiBK,QAAjB,IAA2B,CAA/B,EAAkC;AAC9B,iBAAKH,KAAL,CAAWI,YAAX,CAAwB,YAAxB,EAAsCC,UAAtC;AACAd,oBAAM,CAAN;AACH;AACJ,KAjBQ;AAmBLe,UAnBK,oBAmBK;AACN,aAAKC,IAAL,CAAUC,EAAV,CAAahB,GAAGS,IAAH,CAAQQ,SAAR,CAAkBC,WAA/B,EAA4C,KAAKR,YAAjD,EAA+D,IAA/D;AACH,KArBI;AAuBLS,SAvBK,mBAuBI,CAER,CAzBI;AA2BLC,UA3BK,kBA2BGC,EA3BH,EA2BO;AACRtB,iBAAOsB,EAAP;;AAEA,YAAItB,QAAM,KAAKM,YAAf,EAA6B;AACzB,iBAAKC,WAAL,CAAiBK,QAAjB,GAA0B,CAA1B;AACH,SAFD,MAEK;AACD,iBAAKL,WAAL,CAAiBK,QAAjB,GAA0BZ,QAAM,KAAKM,YAArC;AACH;AACJ;AAnCI,CAAT","file":"SkillCrash.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Scripts\\skill","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\n//this script is used for skill ui\r\nvar timer=0;\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        //this.actor==SkillActor.getComponent('SkillManager')\r\n        coolDownTime:5,\r\n        progressBar:cc.ProgressBar,\r\n        actor:cc.Node,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\nskillTouched(){\r\n    if (this.progressBar.progress>=1) {\r\n        this.actor.getComponent('SkillActor').crashStart();\r\n        timer=0;\r\n    }\r\n},\r\n\r\n    onLoad () {\r\n        this.node.on(cc.Node.EventType.TOUCH_START, this.skillTouched, this);\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    update (dt) {\r\n        timer+=dt;\r\n        \r\n        if (timer>this.coolDownTime) {\r\n            this.progressBar.progress=1;\r\n        }else{\r\n            this.progressBar.progress=timer/this.coolDownTime;\r\n        }\r\n    },\r\n});\r\n"]}