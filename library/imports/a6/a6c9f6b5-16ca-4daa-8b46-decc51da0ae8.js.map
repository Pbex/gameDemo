{"version":3,"sources":["..\\..\\..\\..\\assets\\Scripts/assets\\Scripts\\Bullet.js"],"names":["cc","Class","extends","Component","properties","stopBullet","onHit","anim","getComponent","Animation","play","wrapMode","WrapMode","Normal","onHitEnd","node","destroy","moveBullet","dt","direction","position","y","maxY","Vec2","x","speed","maxX","switchDir","angle","onLoad","Loop","repeatCount","Infinity","start","update"],"mappings":"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","file":"Bullet.js","sourceRoot":"..\\..\\..\\..\\assets\\Scripts","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n        stopBullet:false,\r\n    },\r\n\r\n\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n    onHit(){\r\n        var anim = this.getComponent(cc.Animation);\r\n        this.stopBullet=true;\r\n        anim.play('stone_break').wrapMode=cc.WrapMode.Normal;\r\n    },\r\n    onHitEnd: function(){\r\n        this.node.destroy();\r\n    },\r\n    moveBullet: function (dt) {\r\n        // console.log(this.speed);\r\n        switch (this.direction) {\r\n            case 0://comes from up\r\n                if (this.node.position.y < -this.maxY) {\r\n                    // console.log('destroy bullet');\r\n                    this.node.destroy();\r\n                }\r\n                this.node.position = new cc.Vec2(this.node.position.x,\r\n                    this.node.position.y - this.speed * dt);\r\n                break;\r\n            case 1:\r\n                if (this.node.position.x < -this.maxX) {\r\n                    this.node.destroy();\r\n                }\r\n                this.node.position = new cc.Vec2(this.node.position.x - this.speed * dt,\r\n                    this.node.position.y);\r\n                break;\r\n            case 2:\r\n                if (this.node.position.y > this.maxY) {\r\n                    this.node.destroy();\r\n                }\r\n                this.node.position = new cc.Vec2(this.node.position.x,\r\n                    this.node.position.y + this.speed * dt);\r\n                break;\r\n            case 3:\r\n                if (this.node.position.x > this.maxX) {\r\n                    this.node.destroy();\r\n                }\r\n                this.node.position = new cc.Vec2(this.node.position.x + this.speed * dt,\r\n                    this.node.position.y);\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n    },\r\n\r\n    switchDir(){\r\n        switch (this.direction) {\r\n            case 1:\r\n                this.node.angle = 270;\r\n                break;\r\n            case 2:\r\n                this.node.angle = 180;\r\n                break;\r\n            case 3:\r\n                this.node.angle = 90;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    },\r\n\r\n\r\n    onLoad () {\r\n        var anim = this.getComponent(cc.Animation);\r\n        anim.play().wrapMode=cc.WrapMode.Loop;\r\n        anim.play().repeatCount=Infinity;\r\n    },\r\n\r\n    start() {\r\n    },\r\n\r\n    update(dt) {\r\n        if (!this.stopBullet) {\r\n            this.moveBullet(dt);\r\n        }\r\n    },\r\n});\r\n"]}