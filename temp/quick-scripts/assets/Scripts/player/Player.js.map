{"version":3,"sources":["Player.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,kFAAkF;AAClF,yFAAyF;AACzF,mBAAmB;AACnB,4FAA4F;AAC5F,mGAAmG;AACnG,8BAA8B;AAC9B,4FAA4F;AAC5F,mGAAmG;;;;;;;;;;;;;;;;;;;;;AAE7F,IAAA,kBAAqC,EAAnC,oBAAO,EAAE,sBAA0B,CAAC;AAC5C;;;;;EAKE;AAGF;IAA4B,0BAAY;IADxC;QAAA,qEA4DC;QApDW,kBAAY,GAAG,CAAC,CAAC;QACjB,iBAAW,GAAG,CAAC,CAAC;QAChB,uBAAiB,GAAG,GAAG,CAAC,CAAA,cAAc;QAGtC,YAAM,GAAG,CAAC,CAAC;;QA8CnB,iBAAiB;IACrB,CAAC;IA7CG,kBAAkB;IACX,gCAAe,GAAtB;QACI,IAAI,CAAC,YAAY,EAAE,CAAC;IACxB,CAAC;IAEM,sCAAqB,GAA5B;QACI,IAAI,CAAC,iBAAiB,IAAI,GAAG,CAAC;QAC9B,IAAI,IAAI,CAAC,iBAAiB,GAAG,IAAI,EAAE;YAC/B,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;SACjC;IACL,CAAC;IAED,+BAAc,GAAd;QACI,IAAI,CAAC,MAAM,EAAE,CAAC;QACd,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC,EAAE;YAClB,IAAI,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;YAC3C,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SACzB;IACL,CAAC;IAED,iCAAgB,GAAhB,UAAiB,KAAK,EAAE,IAAI;QACxB,IAAI,KAAK,CAAC,IAAI,CAAC,KAAK,IAAI,QAAQ,EAChC;YACI,KAAK,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,KAAK,EAAE,CAAC,CAAA,iBAAiB;SACzD;QACD,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC,CAAA,mCAAmC;QAC/D,IAAI,MAAM,GAAG,EAAE,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;QAC7B,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QAC5B,EAAE,CAAC,QAAQ,CAAC,YAAY,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;IAC9E,CAAC;IAED,0BAAS,GAAT;QACI,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC;IAC/B,CAAC;IAED,yBAAQ,GAAR;QACI,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;IACtC,CAAC;IAED,sBAAK,GAAL;IAEA,CAAC;IAxDQ,MAAM;QADlB,OAAO;OACK,MAAM,CA2DlB;IAAD,aAAC;CA3DD,AA2DC,CA3D2B,EAAE,CAAC,SAAS,GA2DvC;AA3DY,wBAAM","file":"","sourceRoot":"..\\..\\..\\..\\..\\assets\\Scripts\\player","sourcesContent":["// Learn TypeScript:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n/*\r\n整改进来的文件：\r\nplayerCollider.js;//done\r\nskillActor.js;\r\nskillCrash.js;\r\n*/\r\n\r\n@ccclass\r\nexport class Player extends cc.Component {\r\n\r\n    boss: cc.Node;//用于获取boss位置发射子弹 \r\n    crash: cc.Node;\r\n    logic: cc.Node;\r\n\r\n\r\n    private bulletNumber = 1;\r\n    private bulletTimer = 1;\r\n    private singleBulletTimer = 0.2;//一串子弹之间的每个的间隔\r\n\r\n    lifeLabel: cc.Node;//the label that shows the current health\r\n    private health = 3;\r\n\r\n    // 激活被动技能效果，增加子弹数量\r\n    public addBulletNumber() {\r\n        this.bulletNumber++;\r\n    }\r\n\r\n    public speedUpBulletGenerate() {\r\n        this.singleBulletTimer *= 0.8;\r\n        if (this.singleBulletTimer < 0.05) {\r\n            this.singleBulletTimer = 0.05;\r\n        }\r\n    }\r\n\r\n    decreaseHealth() {\r\n        this.health--;\r\n        if (this.health == 0) {\r\n            var anim = this.getComponent(cc.Animation);\r\n            anim.play('defeated');\r\n        }\r\n    }\r\n\r\n    onCollisionEnter(other, self): any {\r\n        if (other.node.group == 'bullet')\r\n        {\r\n            other.getComponent('Bullet').onHit();//break the stone\r\n        }\r\n        this.decreaseHealth();\r\n        self.node.group = 'default';//default group will not hit stones\r\n        var action = cc.blink(5, 20);\r\n        self.node.runAction(action);\r\n        cc.director.getScheduler().schedule(this.touchable, this, 5, 1, 0, false);\r\n    }\r\n\r\n    touchable() {//the node should set touchable after being hit and blink\r\n        this.node.group = 'player';\r\n    }\r\n\r\n    gameOver() {//called by function at the end of defeated anim\r\n        cc.director.loadScene(\"GameOver\");\r\n    }\r\n\r\n    start() {\r\n\r\n    }\r\n\r\n    // update (dt) {}\r\n}\r\n"]}